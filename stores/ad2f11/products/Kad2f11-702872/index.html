<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>1111 - fg234f3</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        :root { --primary-color: #6366f1; }
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body { font-family: 'Noto Sans TC', sans-serif; background: #f8fafc; }
        .header { background: white; padding: 1rem; box-shadow: 0 2px 8px rgba(0,0,0,0.08); }
        .header-inner { max-width: 800px; margin: 0 auto; display: flex; justify-content: space-between; align-items: center; }
        .store-name { font-weight: 700; color: var(--primary-color); }
        .back-btn { color: var(--primary-color); text-decoration: none; }
        .container { max-width: 800px; margin: 0 auto; padding: 1.5rem; }
        .product-image { width: 100%; aspect-ratio: 1; object-fit: cover; border-radius: 12px; margin-bottom: 1.5rem; }
        .product-name { font-size: 1.5rem; font-weight: 700; margin-bottom: 0.5rem; }
        .product-price { font-size: 1.3rem; font-weight: 700; color: var(--primary-color); margin-bottom: 1rem; }
        .product-desc { color: #666; line-height: 1.6; margin-bottom: 1.5rem; white-space: pre-wrap; }
        .qty-row { display: flex; align-items: center; gap: 1rem; margin-bottom: 1.5rem; }
        .qty-btn { width: 36px; height: 36px; border: 1px solid #ddd; background: white; border-radius: 6px; font-size: 1.2rem; cursor: pointer; }
        .qty-display { width: 50px; text-align: center; font-weight: 600; }
        .add-btn { width: 100%; padding: 1rem; background: var(--primary-color); color: white; border: none; border-radius: 8px; font-size: 1rem; font-weight: 600; cursor: pointer; }
        .add-btn:hover { opacity: 0.9; }
    </style>
</head>
<body>
    <header class="header">
        <div class="header-inner">
            <a href="../" class="back-btn">← 返回商店</a>
            <span class="store-name">fg234f3</span>
        </div>
    </header>
    <main class="container">
        <img src="https://raw.githubusercontent.com/vvstudiocode/korea/main/images/products/kolad2f11/1769054698743_RR4BF__64939.jpg" alt="1111" class="product-image">
        <h1 class="product-name">1111</h1>
        <div class="product-price" id="displayPrice">NT$ 111</div>
        <p class="product-desc"></p>
        
        <div class="qty-row">
            <span>數量</span>
            <button class="qty-btn" onclick="changeQty(-1)">-</button>
            <span class="qty-display" id="qtyDisplay">1</span>
            <button class="qty-btn" onclick="changeQty(1)">+</button>
        </div>
        <button class="add-btn" onclick="addToCart()">加入購物車</button>
    </main>
    <script>
        const STORE_ID = 'ad2f11';
        const PRODUCT = {"id":"Kad2f11-702872","name":1111,"price":111,"image":"https://raw.githubusercontent.com/vvstudiocode/korea/main/images/products/kolad2f11/1769054698743_RR4BF__64939.jpg","variants":[]};
        let qty = 1;
        
        function changeQty(delta) {
            qty = Math.max(1, qty + delta);
            document.getElementById('qtyDisplay').textContent = qty;
        }
        
        function updatePrice() {
            const select = document.getElementById('variantSelect');
            if (select) {
                const price = parseInt(select.options[select.selectedIndex].dataset.price);
                document.getElementById('displayPrice').textContent = 'NT$ ' + price.toLocaleString();
            }
        }
        
        function addToCart() {
            let cart = JSON.parse(localStorage.getItem('kol_cart_' + STORE_ID) || '[]');
            let spec = '';
            let price = PRODUCT.price;
            const select = document.getElementById('variantSelect');
            if (select && PRODUCT.variants.length > 0) {
                const v = PRODUCT.variants[select.value];
                spec = v.spec || v.name;
                price = v.price || PRODUCT.price;
            }
            const existing = cart.findIndex(c => c.id === PRODUCT.id && c.spec === spec);
            if (existing >= 0) {
                cart[existing].qty += qty;
            } else {
                cart.push({ id: PRODUCT.id, name: PRODUCT.name, image: PRODUCT.image, spec, price, qty });
            }
            localStorage.setItem('kol_cart_' + STORE_ID, JSON.stringify(cart));
            alert('已加入購物車！');
            window.location.href = '../';
        }
    </script>
</body>
</html>