<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é›²æœµ | éŸ“åœ‹ä»£è³¼</title>
    <meta name="description" content="é›²æœµ - éŸ“åœ‹ä»£è³¼ç²¾é¸">
    
    <!-- Open Graph -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://vvstudiocode.github.io/korea/stores/iuuu20230807/">
    <meta property="og:title" content="é›²æœµ | éŸ“åœ‹ä»£è³¼">
    <meta property="og:description" content="æä¾›æœ€æ–°éŸ“åœ‹ç†±é–€å•†å“ä»£è³¼æœå‹™">
    <meta property="og:image" content="https://raw.githubusercontent.com/vvstudiocode/korea/main/stores/iuuu20230807/images/products/logos/logo_1769840647009_1054124.jpg">
    
    <style>
        :root { --primary-color: #D68C94; --accent-color: #D68C94; }
    </style>
    
    <!-- æ¨£å¼è¡¨ -->
    <link rel="stylesheet" href="/korea/src/store/styles/styles.css">
    <link rel="stylesheet" href="/korea/src/page-renderer/page-renderer.css">
    
    <style>
        #loadingOverlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: #fcfbfb; z-index: 9999;
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            transition: opacity 0.5s ease;
        }
        #loadingOverlay.hidden { opacity: 0; pointer-events: none; }
        .loading-text {
            color: var(--primary-color); font-size: 1.2rem;
            letter-spacing: 2px; font-weight: 600;
            animation: breathe 1.5s ease-in-out infinite;
        }
        @keyframes breathe {
            0%, 100% { opacity: 0.4; transform: scale(0.98); }
            50% { opacity: 1; transform: scale(1); }
        }
    </style>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;500;700&display=swap" rel="stylesheet">
</head>
<body data-store-id="iuuu20230807">
    <!-- Loading Overlay -->
    <div id="loadingOverlay">
        <div class="loading-text">é›²æœµ</div>
    </div>

    <!-- å°èˆªåˆ— -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="logo">
                <img src="https://raw.githubusercontent.com/vvstudiocode/korea/main/stores/iuuu20230807/images/products/logos/logo_1769840647009_1054124.jpg" alt="é›²æœµ" class="logo-img">
                <span class="logo-text">é›²æœµ</span>
            </div>
            <div class="nav-actions">
                <button class="search-btn" id="searchBtn" onclick="openSearchModal()">ğŸ” è¨‚å–®æŸ¥è©¢</button>
                <button class="cart-btn" id="cartBtn">
                    ğŸ›’ è³¼ç‰©è»Š
                    <span class="cart-badge" id="cartBadge">0</span>
                </button>
            </div>
        </div>
    </nav>

    <!-- ä¸»è¦å…§å®¹å€ -->
    <main class="main-container">
        <div id="pageBuilderRoot"></div>
    </main>

    <!-- é å°¾ -->
    <footer class="site-footer">
        <div class="footer-container">
            <div class="footer-section">
                <h4>é›²æœµ</h4>
                <p>éŸ“åœ‹ä»£è³¼ç²¾é¸å•†å“</p>
            </div>
        </div>
        <div class="footer-copyright">
            Â© 2025 é›²æœµ. All rights reserved.
        </div>
    </footer>

    <!-- è³¼ç‰©è»Šå´é‚Šæ¬„ -->
    <div class="cart-sidebar" id="cartSidebar">
        <div class="cart-header">
            <h3>è³¼ç‰©è»Š</h3>
            <button class="close-cart" id="closeCart">âœ•</button>
        </div>
        <div class="cart-items" id="cartItems">
            <div class="empty-cart">
                <p>è³¼ç‰©è»Šæ˜¯ç©ºçš„</p>
                <p class="empty-cart-hint">å¿«å»æŒ‘é¸å–œæ­¡çš„å•†å“å§ï¼</p>
            </div>
        </div>
        <div class="cart-footer">
            <div class="shipping-method-selector">
                <label>é‹é€æ–¹å¼ï¼š</label>
                <div class="shipping-options">
                    <label class="shipping-option">
                        <input type="radio" name="shippingMethod" value="pickup" onchange="Checkout.setShippingMethod('pickup')">
                        <span>é™å°ä¸­å¸‚é¢äº¤ <strong>å…é‹</strong></span>
                    </label>
                    <label class="shipping-option">
                        <input type="radio" name="shippingMethod" value="711" checked onchange="Checkout.setShippingMethod('711')">
                        <span>7-11åº—åˆ°åº— <strong>NT$ 30</strong></span>
                    </label>
                </div>
            </div>
            <div class="cart-total">
                <span>ç¸½è¨ˆï¼š</span>
                <span class="total-amount" id="totalAmount">NT$ 0</span>
            </div>
            <button class="checkout-btn" id="checkoutBtn">å‰å¾€çµå¸³</button>
        </div>
    </div>

    <!-- å•†å“è©³æƒ…æ¨¡æ…‹æ¡† -->
    <div class="modal" id="productModal">
        <div class="modal-content product-detail">
            <button class="modal-close" onclick="ProductDetail.close()">âœ•</button>
            <div class="product-detail-grid">
                <div class="product-detail-image">
                    <img id="modalProductImage" src="" alt="">
                </div>
                <div class="product-detail-info">
                    <h2 id="modalProductName"></h2>
                    <p class="product-detail-price" id="modalProductPrice"></p>

                    <!-- å•†å“é¸é …å®¹å™¨ (å‹•æ…‹ç”¢ç”Ÿ) -->
                    <div id="modalProductOptions" class="product-options-container"></div>

                    <div class="quantity-selector">
                        <label>æ•¸é‡ï¼š</label>
                        <div class="qty-group">
                            <button class="qty-btn" onclick="ProductDetail.decreaseQuantity()">-</button>
                            <input type="number" id="modalQuantity" value="1" min="1" readonly>
                            <button class="qty-btn" onclick="ProductDetail.increaseQuantity()">+</button>
                        </div>
                    </div>
                    <button class="add-to-cart-btn" onclick="ProductDetail.addToCart()">
                        åŠ å…¥è³¼ç‰©è»Š
                    </button>

                    <!-- å•†å“æè¿°æ”¾åœ¨æœ€å¾Œ -->
                    <p class="product-detail-description" id="modalProductDescription"></p>
                    <div class="product-detail-stock">
                        åº«å­˜ï¼š<span id="modalProductStock"></span> ä»¶
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- çµå¸³æ¨¡æ…‹æ¡† -->
    <div class="modal" id="checkoutModal">
        <div class="modal-content checkout-form">
            <button class="modal-close" onclick="Modal.close('checkoutModal')">âœ•</button>
            <h2>å¡«å¯«æ”¶ä»¶è³‡è¨Š</h2>

            <form id="orderForm">
                <div class="form-group">
                    <label for="customerName">å§“å *</label>
                    <input type="text" id="customerName" name="name" required placeholder="è«‹è¼¸å…¥æ‚¨çš„å§“å">
                </div>

                <div class="form-group">
                    <label for="customerPhone">æ‰‹æ©Ÿè™Ÿç¢¼ *</label>
                    <input type="tel" id="customerPhone" name="phone" required placeholder="0912345678">
                </div>
                <div class="form-group">
                    <label for="customerLineId">Line ID *</label>
                    <input type="text" id="customerLineId" name="lineId" required placeholder="è«‹è¼¸å…¥ Line ID ä»¥ä¾¿è¯ç¹«">
                </div>
                <div class="form-group">
                    <label for="customerEmail">é›»å­ä¿¡ç®± *</label>
                    <input type="email" id="customerEmail" name="email" required placeholder="example@email.com">
                </div>

                <!-- 711 åº—åˆ°åº—æ¬„ä½å€å¡Š -->
                <div id="storeFieldsSection">
                    <div class="shipping-notice">
                        <p>ğŸ“¦ æ‚¨é¸æ“‡äº† <strong>7-11 åº—åˆ°åº—</strong> å–è²¨</p>
                        <p class="store-query-link">æŸ¥è©¢é–€å¸‚ï¼š<a href="https://www.ibon.com.tw/retail_inquiry.aspx#gsc.tab=0"
                                target="_blank">ğŸ‘‰ é»æ­¤æŸ¥è©¢</a></p>
                    </div>

                    <div class="form-group">
                        <label for="storeName">7-11 é–€å¸‚åç¨± *</label>
                        <input type="text" id="storeName" name="storeName" required placeholder="ä¾‹å¦‚ï¼šä¿¡ç¾©é–€å¸‚">
                    </div>

                    <div class="form-group">
                        <label for="storeCode">é–€å¸‚åº—è™Ÿ *</label>
                        <input type="text" id="storeCode" name="storeCode" required placeholder="ä¾‹å¦‚ï¼š123456">
                    </div>

                    <div class="form-group">
                        <label for="storeAddress">é–€å¸‚åœ°å€ *</label>
                        <input type="text" id="storeAddress" name="storeAddress" required placeholder="ä¾‹å¦‚ï¼šå°åŒ—å¸‚ä¿¡ç¾©å€XXè·¯XXè™Ÿ">
                    </div>
                </div>

                <div class="form-group">
                    <label for="customerNote">å‚™æ³¨ï¼ˆé¸å¡«ï¼‰</label>
                    <textarea id="customerNote" name="note" rows="3" placeholder="è«‹åœ¨æ­¤å¡«å¯«åŒ¯æ¬¾å¾Œäº”ç¢¼ã€‚
å¦‚æœ‰ä¸‹è¨‚å®¢è£½åŒ–é‘°åŒ™åœˆï¼Œè«‹é™„ä¸Šè‹±æ–‡"></textarea>
                    <p class="form-hint"
                        style="color: red; font-size: 40px; font-weight: bold; margin-top: 15px; line-height: 1.2;">
                        åŒ¯æ¬¾å®Œæˆå¾Œè«‹ä¸€å®šè¦è‡³å®˜æ–¹ Line å›è¦†ï¼š
                        <a href="https://lin.ee/qEQwlef" target="_blank"
                            style="color: red; text-decoration: underline;">@597gestz</a>
                        <br>æ‰ç®—æˆç«‹
                    </p>
                </div>

                <div class="payment-info">
                    <h3>åŒ¯æ¬¾è³‡è¨Š</h3>
                    <div class="payment-details">
                        <div class="payment-item">
                            <span class="payment-label">éŠ€è¡Œåç¨±ï¼š</span>
                            <span class="payment-value">åœ‹æ³°ä¸–è¯éŠ€è¡Œï¼ˆä»£ç¢¼ 013ï¼‰</span>
                        </div>
                        <div class="payment-item">
                            <span class="payment-label">å¸³è™Ÿï¼š</span>
                            <span class="payment-value account-number">204506258370</span>
                        </div>
                        <div class="payment-item">
                            <span class="payment-label">ä»»ä½•å•é¡Œå¯æ´½ç¶²é æœ€ä¸‹æ–¹LINE | IG</span>
                        </div>
                        <div class="payment-item">
                            <span class="payment-value">åŒ¯æ¬¾å®Œæˆå¾Œè«‹è¯ç¹«æˆ‘å€‘åŒ¯æ¬¾å¾Œäº”ç¢¼</span>
                        </div>
                    </div>
                    <p class="payment-note">è«‹æ–¼ä¸‹å–®å¾Œ 3 å¤©å…§å®ŒæˆåŒ¯æ¬¾ï¼Œä¸¦ä¿ç•™åŒ¯æ¬¾æ”¶æ“šä¾›æŸ¥è©¢</p>
                </div>

                <!-- è¨‚å–®æ‘˜è¦ï¼ˆç§»è‡³åŒ¯æ¬¾è³‡è¨Šä¸‹æ–¹ï¼‰ -->
                <div class="order-summary">
                    <h3>è¨‚å–®æ‘˜è¦</h3>
                    <div id="orderSummary"></div>
                    <div class="order-total">
                        ç¸½é‡‘é¡ï¼š<span id="orderTotal">NT$ 0</span>
                    </div>
                </div>

                <button type="submit" class="submit-order-btn">
                    ç¢ºèªé€å‡ºè¨‚å–®
                </button>
            </form>
        </div>
    </div>

    <!-- æˆåŠŸæç¤ºæ¨¡æ…‹æ¡† -->
    <div class="modal" id="successModal">
        <div class="modal-content success-message">
            <div class="success-icon">âœ“</div>
            <h2>è¨‚å–®é€å‡ºæˆåŠŸï¼</h2>
            <p>æ‚¨çš„è¨‚å–®ç·¨è™Ÿï¼š<strong id="orderNumber"></strong></p>
            <div id="successCustomMessage"
                style="margin: 15px 0; padding: 10px; background: #f9f9f9; border-radius: 5px; text-align: left; font-size: 0.9em; white-space: pre-wrap;">
            </div>
            <p class="success-hint">æˆ‘å€‘æœƒç›¡å¿«èˆ‡æ‚¨è¯ç¹«ç¢ºèªè¨‚å–®</p>
            <button class="continue-btn" onclick="Modal.close('successModal')">ç¹¼çºŒè³¼ç‰©</button>
        </div>
    </div>

    <!-- è¨‚å–®æŸ¥è©¢æ¨¡æ…‹æ¡† -->
    <div class="modal" id="searchOrderModal">
        <div class="modal-content search-order-form">
            <button class="modal-close" onclick="closeSearchModal()">âœ•</button>
            <h2>è¨‚å–®æŸ¥è©¢</h2>

            <div class="search-input-group">
                <p>è«‹è¼¸å…¥è¨‚è³¼æ™‚çš„æ‰‹æ©Ÿè™Ÿç¢¼æŸ¥è©¢è¨‚å–®ç‹€æ…‹</p>
                <div class="form-group">
                    <input type="tel" id="searchPhone" placeholder="ä¾‹å¦‚ï¼š0912345678"
                        onkeypress="handleSearchKeyPress(event)">
                    <button class="submit-order-btn" onclick="handleOrderSearch()" style="margin-top: 10px;">æŸ¥è©¢</button>
                </div>
            </div>

            <div id="searchResults" class="search-results">
                <!-- æŸ¥è©¢çµæœæœƒé¡¯ç¤ºåœ¨é€™è£¡ -->
            </div>
        </div>
    </div>

    <!-- é®ç½©å±¤ -->
    <div class="overlay" id="overlay"></div>

    <!-- JavaScript æ¨¡çµ„è¼‰å…¥ -->
    <script src="/korea/src/core/api.js"></script>
    <script src="/korea/src/core/storage.js"></script>
    <script src="/korea/src/core/toast.js"></script>
    <script src="/korea/src/core/utils.js"></script>
    <script src="/korea/src/store/modules/products.js"></script>
    <script src="/korea/src/store/modules/cart.js"></script>
    <script src="/korea/src/store/modules/modal.js"></script>
    <script src="/korea/src/store/modules/product-detail.js"></script>
    <script src="/korea/src/store/modules/checkout.js"></script>
    <script src="/korea/src/page-renderer/page-renderer.js"></script>
    <script src="/korea/src/store/app.js"></script>

    <script>
        // å•†åº—è¨­å®š - ä½¿ç”¨ç¨ç«‹ API
        window.STORE_CONFIG = {
            storeId: 'iuuu20230807',
            storeName: 'é›²æœµ',
            themeColor: '#D68C94',
            logoUrl: 'https://raw.githubusercontent.com/vvstudiocode/korea/main/stores/iuuu20230807/images/products/logos/logo_1769840647009_1054124.jpg',
            paymentNote: ``,
            apiUrl: 'https://script.google.com/macros/s/AKfycbxIU2BVTivJj674Ldhn2w3m7x-wOaLBq6Ke7FCxM4FrZ5V1fcT0A2FsdiGvDceBAtP3/exec'
        };
        
        // è¦†å¯« API URL
        if (typeof API_URL !== 'undefined') {
            API_URL = 'https://script.google.com/macros/s/AKfycbxIU2BVTivJj674Ldhn2w3m7x-wOaLBq6Ke7FCxM4FrZ5V1fcT0A2FsdiGvDceBAtP3/exec';
        }
        window.CUSTOM_API_URL = 'https://script.google.com/macros/s/AKfycbxIU2BVTivJj674Ldhn2w3m7x-wOaLBq6Ke7FCxM4FrZ5V1fcT0A2FsdiGvDceBAtP3/exec';
    </script>
</body>
</html>